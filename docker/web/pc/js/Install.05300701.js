(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Install"],{"0d7b":function(t,e,n){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=81)}({0:function(t,e,n){"use strict";function o(t,e,n,o,i,a,r,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return o}))},4:function(t,e){t.exports=n("d010")},81:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"el-radio-button",class:[t.size?"el-radio-button--"+t.size:"",{"is-active":t.value===t.label},{"is-disabled":t.isDisabled},{"is-focus":t.focus}],attrs:{role:"radio","aria-checked":t.value===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.value=t.isDisabled?t.value:t.label}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.value,t.label)},on:{change:[function(e){t.value=t.label},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),n("span",{staticClass:"el-radio-button__inner",style:t.value===t.label?t.activeStyle:null,on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])},i=[];o._withStripped=!0;var a=n(4),r=n.n(a),s={name:"ElRadioButton",mixins:[r.a],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(t){this._radioGroup.$emit("input",t)}},_radioGroup:function(){var t=this.$parent;while(t){if("ElRadioGroup"===t.$options.componentName)return t;t=t.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick((function(){t.dispatch("ElRadioGroup","handleChange",t.value)}))}}},l=s,u=n(0),c=Object(u["a"])(l,o,i,!1,null,null,null);c.options.__file="packages/radio/src/radio-button.vue";var d=c.exports;d.install=function(t){t.component(d.name,d)};e["default"]=d}})},1951:function(t,e,n){},"3c52":function(t,e,n){},"6ac5":function(t,e,n){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=79)}({0:function(t,e,n){"use strict";function o(t,e,n,o,i,a,r,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return o}))},4:function(t,e){t.exports=n("d010")},79:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:t.handleKeydown}},[t._t("default")],2)},i=[];o._withStripped=!0;var a=n(4),r=n.n(a),s=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),l={name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[r.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",(function(e){t.$emit("change",e)}))},mounted:function(){var t=this.$el.querySelectorAll("[type=radio]"),e=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(t,(function(t){return t.checked}))&&e&&(e.tabIndex=0)},methods:{handleKeydown:function(t){var e=t.target,n="INPUT"===e.nodeName?"[type=radio]":"[role=radio]",o=this.$el.querySelectorAll(n),i=o.length,a=[].indexOf.call(o,e),r=this.$el.querySelectorAll("[role=radio]");switch(t.keyCode){case s.LEFT:case s.UP:t.stopPropagation(),t.preventDefault(),0===a?(r[i-1].click(),r[i-1].focus()):(r[a-1].click(),r[a-1].focus());break;case s.RIGHT:case s.DOWN:a===i-1?(t.stopPropagation(),t.preventDefault(),r[0].click(),r[0].focus()):(r[a+1].click(),r[a+1].focus());break;default:break}}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[this.value])}}},u=l,c=n(0),d=Object(c["a"])(u,o,i,!1,null,null,null);d.options.__file="packages/radio/src/radio-group.vue";var p=d.exports;p.install=function(t){t.component(p.name,p)};e["default"]=p}})},7391:function(t,e,n){"use strict";var o=n("ca18"),i=n.n(o);i.a},9010:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"install"},[n("div",[n("span",{staticClass:"font600"},[t._v(t._s(t.$t("Install_name")))]),n("el-input",{staticClass:"nameinp",attrs:{onkeyup:"this.value=this.value.replace(/[\\u4E00-\\u9FA5]/g,'')",placeholder:t.$t("Install_nameTips")},model:{value:t.container_name,callback:function(e){t.container_name=e},expression:"container_name"}})],1),n("div",{staticClass:"margin10"},[n("span",{staticClass:"font600"},[t._v(" "+t._s(t.$t("Install_network")))]),n("el-select",{attrs:{placeholder:t.$t("Install_networkTips")},model:{value:t.network_mode,callback:function(e){t.network_mode=e},expression:"network_mode"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.label}})})),1)],1),n("div",{staticClass:"margin20"},[n("span",{staticClass:"font600"},[t._v(t._s(t.$t("Intsall_port")))]),n("el-button",{staticClass:"btnsize margin10",attrs:{type:"primary",size:"small"},on:{click:t.addPort}},[t._v(t._s(t.$t("Install_Add")))])],1),t._l(t.port,(function(e,o){return n("div",{key:"port_protocols"+o,staticClass:"margin20"},[n("div",{staticClass:"flex_r"},[n("div",[n("el-input",{staticClass:"input",attrs:{placeholder:t.$t("Install_cPortTips")},model:{value:e.container_ports,callback:function(n){t.$set(e,"container_ports",n)},expression:"item.container_ports"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("Install_cPort")))])],2)],1),n("div",{staticClass:"marginl40"},[n("el-input",{staticClass:"input",attrs:{placeholder:t.$t("Install_hPortTips")},model:{value:e.host_ports,callback:function(n){t.$set(e,"host_ports",n)},expression:"item.host_ports"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("Install_hPort")))])],2)],1),n("div",{staticClass:"marginl40 flex_r"},[n("el-radio-group",{model:{value:e.port_protocols,callback:function(n){t.$set(e,"port_protocols",n)},expression:"item.port_protocols"}},[n("el-radio-button",{attrs:{label:"tcp"}}),n("el-radio-button",{attrs:{label:"udp"}})],1),n("div",{staticClass:"marginl10"},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delPort(o)}}},[t._v(t._s(t.$t("Install_Del")))])],1)],1)])])})),n("div",{staticClass:"margin20"},[n("span",{staticClass:"font600"},[t._v(t._s(t.$t("Install_file")))]),n("el-button",{staticClass:"btnsize",attrs:{type:"primary",size:"small"},on:{click:t.addFile}},[t._v(t._s(t.$t("Install_Add")))])],1),t._l(t.file,(function(e,o){return n("div",{key:"file"+o,staticClass:" margin20"},[n("div",{staticClass:"flex_r"},[n("div",[n("el-input",{staticClass:"input",attrs:{placeholder:t.$t("Install_cFileTips")},model:{value:e.container_volumes,callback:function(n){t.$set(e,"container_volumes",n)},expression:"item.container_volumes"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("Install_cFile")))])],2)],1),n("div",{staticClass:"marginl40"},[n("el-input",{staticClass:"input",attrs:{placeholder:t.$t("Install_hFileTips")},model:{value:e.host_volumes,callback:function(n){t.$set(e,"host_volumes",n)},expression:"item.host_volumes"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("Install_hFile")))])],2)],1),n("div",{staticClass:"marginl40 flex_r"},[n("div",{staticClass:"marginl10"},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delFile(o)}}},[t._v(t._s(t.$t("Install_Del")))])],1)])])])})),n("div",{staticClass:"margin20"},[n("span",{staticClass:"font600"},[t._v(t._s(t.$t("Install_env")))]),n("el-button",{staticClass:"btnsize",attrs:{type:"primary",size:"small"},on:{click:t.addEnv}},[t._v(t._s(t.$t("Install_Add")))])],1),t._l(t.envList,(function(e,o){return n("div",{key:"env"+o,staticClass:" margin20"},[n("div",{staticClass:"flex_r"},[n("div",[n("el-input",{staticClass:"input",attrs:{placeholder:t.$t("Install_kEnvTips")},model:{value:e.key,callback:function(n){t.$set(e,"key",n)},expression:"item.key"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("Install_kEnv")))])],2)],1),n("div",{staticClass:"marginl40"},[n("el-input",{staticClass:"input",attrs:{placeholder:t.$t("Install_vEnvTips")},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}},[n("template",{slot:"prepend"},[t._v(t._s(t.$t("Install_vEnv")))])],2)],1),n("div",{staticClass:"marginl40 flex_r"},[n("div",{staticClass:"marginl10"},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delEnv(o)}}},[t._v(t._s(t.$t("Install_Del")))])],1)])])])})),t.Description?n("div",{staticClass:"tips margin40"},[t._v(t._s(t.Description))]):t._e(),n("div",{staticClass:"margin40"},[n("el-button",{staticClass:"btnsize",attrs:{type:"primary",size:"medium"},on:{click:t.sub}},[t._v(t._s(t.$t("Install_sub")))])],1)],2)},i=[],a=(n("3c52"),n("450d"),n("0d7b")),r=n.n(a),s=(n("fe07"),n("6ac5")),l=n.n(s),u=(n("10cb"),n("f3ad")),c=n.n(u),d=(n("1951"),n("eedf")),p=n.n(d),f=n("2b0e"),_=n("751a"),v=n("da6f");f["default"].use(p.a),f["default"].use(c.a),f["default"].use(l.a),f["default"].use(r.a);var m={data:function(){return{info:[],radio2:"不映射",Description:"",options:[{value:"桥接",label:"bridge"},{value:"没有网络",label:"none"},{value:"跟随宿主主机",label:"host"}],name:"",image_name:"",container_name:"",network_mode:"bridge",port:[{container_ports:"",host_ports:"",port_protocols:"tcp"}],file:[{container_volumes:"",host_volumes:""}],envList:[]}},computed:{env:function(){var t=[];return this.envList.forEach((function(e){t.push("".concat(e.key,"=").concat(e.value))})),t}},mounted:function(){var t=this.$route.query.image;if(!t)return this.$router.back();this.name=t,this.searchData(this.name)},methods:{getData:function(t){var e=this;_["a"].post(v["a"].appstore,t).then((function(t){var n=t.Data,o=n?n[0]:{},i=o.ContainerPort||[],a=o.HostPort,r=o.ContainerVolume||[],s=o.HostVolume,l=o.PortProtocol;e.Description=o.Description,e.network_mode=o.NetWork,o.Env.forEach((function(t){e.envList.push({key:t.split("=")[0],value:t.split("=")[1]})})),e.image_name=o.Image;var u=[],c=[];i.forEach((function(t,e){u[e]={container_ports:t,host_ports:a[e],port_protocols:l[e]}})),r.forEach((function(t,e){c[e]={container_volumes:t,host_volumes:s[e]}})),e.port=u,e.file=c}))},searchData:function(t){this.getData({name:t,search_type:"exact"})},addPort:function(){this.port.push({container_ports:"",host_ports:"",port_protocols:"tcp"})},addEnv:function(){this.envList.push({key:"",value:""})},addFile:function(){this.file.push({container_volumes:"",host_volumes:""})},delPort:function(t){this.port.splice(t,1)},delFile:function(t){this.file.splice(t,1)},delEnv:function(t){this.envList.splice(t,1)},sub:function(){this.$debounce(this.submit,this)},submit:function(){var t=this,e={image_name:this.image_name,container_name:this.container_name,network_mode:this.network_mode,container_ports:[],host_ports:[],port_protocols:[],container_volumes:[],host_volumes:[],env:this.env};this.port.forEach((function(t,n){e["container_ports"][n]=String(t.container_ports),e["host_ports"][n]=String(t.host_ports),e["port_protocols"][n]=t.port_protocols})),this.file.forEach((function(t,n){e["container_volumes"][n]=t.container_volumes,e["host_volumes"][n]=t.host_volumes})),e.array=!0;var n=this.$loading({text:"安装中",background:"rgba(0, 0, 0, 0.8)"});_["a"].post("/containercreate",e).then((function(e){n.close(),t.$message({showClose:!0,message:e.msg||"操作成功",type:"success"})})).catch((function(t){console.log(t),n.close()}))}}},h=m,b=(n("7391"),n("2877")),g=Object(b["a"])(h,o,i,!1,null,"d00ccc66",null);e["default"]=g.exports},ca18:function(t,e,n){},eedf:function(t,e,n){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=97)}({0:function(t,e,n){"use strict";function o(t,e,n,o,i,a,r,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),o&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return o}))},97:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?n("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",[t._t("default")],2):t._e()])},i=[];o._withStripped=!0;var a={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},r=a,s=n(0),l=Object(s["a"])(r,o,i,!1,null,null,null);l.options.__file="packages/button/src/button.vue";var u=l.exports;u.install=function(t){t.component(u.name,u)};e["default"]=u}})},fe07:function(t,e,n){}}]);
//# sourceMappingURL=Install.05300701.js.map