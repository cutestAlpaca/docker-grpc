(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Colony"],{"249a":function(e,t,o){},3854:function(e,t,o){"use strict";var s=o("249a"),a=o.n(s);a.a},cb91:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"padding-right":"20px"}},[o("div",{staticClass:"from",staticStyle:{"padding-bottom":"0px"}},[o("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("Colony_loginOnServer"))+" ")]),o("LoginForm")],1),o("div",{staticClass:"from",staticStyle:{"margin-top":"30px"}},[o("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("Colony_history"))+" ")]),o("ColonyHistory")],1)])},a=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px"}},[o("el-form-item",{attrs:{label:e.$t("LoginForm_Server")}},[o("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:e.$t("LoginForm_PleaseinputserverIPURL")},model:{value:e.form.ip,callback:function(t){e.$set(e.form,"ip","string"===typeof t?t.trim():t)},expression:"form.ip"}}),o("span",{staticClass:"tishi"},[e._v(e._s(e.$t("LoginForm_example")))])],1),o("el-form-item",{attrs:{label:e.$t("LoginForm_Username")}},[o("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:e.$t("LoginForm_Pleaseinputusername")},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username","string"===typeof t?t.trim():t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:e.$t("LoginForm_Password")}},[o("el-input",{staticStyle:{width:"50%"},attrs:{type:"password",autocomplete:"off",placeholder:e.$t("LoginForm_Pleaseinputpassword")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v(e._s(e.$t("LoginForm_LoginWord")))])],1)],1)],1)},l=[],n=(o("1951"),o("450d"),o("eedf")),i=o.n(n),c=(o("10cb"),o("f3ad")),m=o.n(c),u=(o("eca7"),o("3787")),f=o.n(u),p=(o("425f"),o("4105")),d=o.n(p),g=o("2b0e");g["default"].use(d.a),g["default"].use(f.a),g["default"].use(m.a),g["default"].use(i.a);var y={data:function(){return{form:{ip:"",username:"",password:""}}},methods:{login:function(){var e=this,t=new FormData;t.append("username",this.form.username),t.append("password",this.form.password);var o={method:"POST",body:t,redirect:"follow"};fetch(this.form.ip+"/login",o).then((function(e){return e.json()})).then((function(t){if(200===t.Code){e.$message({showClose:!0,message:"连接成功！自动刷新页面，请耐性等待！",type:"success"});var o={username:e.form.username,token:t.Data,baseURL:e.form.ip};localStorage.setItem("token",t.Data),localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("baseURL",e.form.ip);var s=localStorage.getItem("userList");s?(s=JSON.parse(s),s.push(o),localStorage.setItem("userList",JSON.stringify(s))):localStorage.setItem("userList",JSON.stringify([o])),setTimeout((function(){location.reload()}),500)}else e.$message({showClose:!0,message:t.Msg||"登录失败！请重试。",type:"error"})})).catch((function(){return e.$message({showClose:!0,message:"网络连接失败，请稍候重试！",type:"error"})}))}}},h=y,b=(o("3854"),o("2877")),v=Object(b["a"])(h,r,l,!1,null,"138456cf",null),_=v.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyList}},[o("el-table-column",{attrs:{prop:"username",label:e.$t("ColonyHistory_username")}}),o("el-table-column",{attrs:{prop:"baseURL",label:e.$t("ColonyHistory_baseURL")}}),o("el-table-column",{attrs:{label:e.$t("ColonyHistory_operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary",disabled:t.row.baseURL===e.activeUrl},on:{click:function(o){return e.changeIp(t.row)}}},[e._v(" "+e._s(e.$t("ColonyHistory_switch"))+" ")])]}}])}),o("el-table-column",{attrs:{label:e.$t("ColonyHistory_Currentserver")},scopedSlots:e._u([{key:"default",fn:function(t){return[o("i",{class:t.row.baseURL===e.activeUrl?"el-icon-star-on":""})]}}])})],1)],1)},S=[],L=(o("5466"),o("ecdf")),$=o.n(L),C=(o("38a0"),o("ad41")),U=o.n(C);g["default"].use(U.a),g["default"].use($.a);var I={data:function(){return{historyList:[],activeUrl:""}},mounted:function(){var e=localStorage.getItem("userList");e&&(this.historyList=JSON.parse(e)),this.activeUrl=localStorage.getItem("baseURL")},methods:{changeIp:function(e){confirm("确认切换？")&&(localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("baseURL",e.baseURL),localStorage.setItem("token",e.token),this.$message({showClose:!0,message:"切换成功！自动刷新页面，请耐性等待！",type:"success"}),setTimeout((function(){location.reload()}),500))}}},k=I,x=Object(b["a"])(k,w,S,!1,null,null,null),F=x.exports,O={components:{LoginForm:_,ColonyHistory:F}},R=O,J=Object(b["a"])(R,s,a,!1,null,null,null);t["default"]=J.exports}}]);
//# sourceMappingURL=Colony.2c30e265.js.map