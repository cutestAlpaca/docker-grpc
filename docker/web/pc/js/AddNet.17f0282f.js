(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddNet"],{"03c5":function(e,t,i){},"415c":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Back",{attrs:{title:e.$t("AddNet_addNetwork")}}),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{padding:"10px 10px 1px 10px","margin-top":"20px"},attrs:{model:e.form,"label-width":"130px"}},[i("el-form-item",{attrs:{label:e.$t("AddNet_networkName"),prop:"name"}},[i("el-input",{attrs:{placeholder:e.$t("AddNet_plsInputNetworkName")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1)],1),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm from",attrs:{model:e.form,"label-width":"130px"}},[i("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("AddNet_driverSettings"))+" ")]),e.systeminfo?i("el-form-item",{attrs:{label:e.$t("AddNet_driver"),prop:"Driver"}},[i("el-select",{attrs:{placeholder:"$t('AddNet_plsSelectDriver') "},model:{value:e.form.Driver,callback:function(t){e.$set(e.form,"Driver","string"===typeof t?t.trim():t)},expression:"form.Driver"}},e._l(e.systeminfo.Plugins.Network,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1):e._e(),i("el-form-item",{attrs:{label:e.$t("AddNet_driverOptions"),prop:"isSynchronize"}},[i("el-button",{staticClass:"submit",staticStyle:{"margin-left":"0"},attrs:{icon:"iconfont icon-add",size:"mini"},on:{click:e.addPort}},[e._v(" "+e._s(e.$t("AddNet_add")))])],1),e._l(e.portNum,(function(t,a){return i("el-form-item",{key:t,attrs:{label:"",prop:"options"}},[i("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:e.$t("AddNet_plsInputName")},model:{value:e.form.options[a].name,callback:function(t){e.$set(e.form.options[a],"name","string"===typeof t?t.trim():t)},expression:"form.options[index].name"}},[i("template",{slot:"prepend"},[e._v("name")])],2),i("el-input",{staticStyle:{width:"40%","margin-left":"20px"},attrs:{placeholder:e.$t("AddNet_plsInputValue")},model:{value:e.form.options[a].value,callback:function(t){e.$set(e.form.options[a],"value","string"===typeof t?t.trim():t)},expression:"form.options[index].value"}},[i("template",{slot:"prepend"},[e._v("value")])],2),i("el-button",{staticStyle:{"margin-left":"10px",padding:"10px"},attrs:{title:e.$t("AddNet_delete"),type:"danger",icon:"iconfont icon-lajitong",size:"mini"},on:{click:function(i){return e.delPort(t,a)}}})],1)}))],2),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm from",attrs:{model:e.form,"label-width":"100px"}},[i("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("AddNet_networkConfig"))+" ")]),i("div",{staticClass:"flexbox"},[i("el-form-item",{staticStyle:{width:"50%","flex-shrink":"0"},attrs:{label:e.$t("AddNet_subNetwork")}},[i("el-input",{attrs:{placeholder:e.$t("AddNet_ziwang")},model:{value:e.form.Subnet,callback:function(t){e.$set(e.form,"Subnet","string"===typeof t?t.trim():t)},expression:"form.Subnet"}})],1),i("el-form-item",{staticStyle:{width:"50%","flex-shrink":"0"},attrs:{label:e.$t("AddNet_gateway")}},[i("el-input",{attrs:{placeholder:e.$t("AddNet_wangguan")},model:{value:e.form.Gateway,callback:function(t){e.$set(e.form,"Gateway","string"===typeof t?t.trim():t)},expression:"form.Gateway"}})],1),i("el-form-item",{staticStyle:{width:"50%","flex-shrink":"0"},attrs:{label:e.$t("AddNet_IPRange")}},[i("el-input",{attrs:{placeholder:e.$t("AddNet_ipfanwei")},model:{value:e.form.IPrange,callback:function(t){e.$set(e.form,"IPrange","string"===typeof t?t.trim():t)},expression:"form.IPrange"}})],1),i("el-form-item",{staticStyle:{width:"50%","flex-shrink":"0"},attrs:{label:e.$t("AddNet_excludeIP")}},[i("el-input",{attrs:{placeholder:e.$t("AddNet_paichuip")},model:{value:e.form.ExcludeIPs,callback:function(t){e.$set(e.form,"ExcludeIPs","string"===typeof t?t.trim():t)},expression:"form.ExcludeIPs"}})],1)],1)]),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm from",attrs:{model:e.form,"label-width":"130px"}},[i("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("AddNet_advancedSetting"))+" ")]),i("el-form-item",{attrs:{label:e.$t("AddNet_addLabel"),prop:"isSynchronize"}},[i("el-button",{staticClass:"submit",staticStyle:{"margin-left":"0"},attrs:{icon:"iconfont icon-add",size:"mini"},on:{click:e.addLabel}},[e._v("添加")])],1),e._l(e.labelNum,(function(t,a){return i("el-form-item",{key:t,attrs:{label:e.$t("AddNet_plsInputKey"),prop:"label"}},[i("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:e.$t("AddNet_plsInputKey")},model:{value:e.form.labels[a].name,callback:function(t){e.$set(e.form.labels[a],"name","string"===typeof t?t.trim():t)},expression:"form.labels[index].name"}},[i("template",{slot:"prepend"},[e._v("name")])],2),i("el-input",{staticStyle:{width:"40%","margin-left":"20px"},attrs:{placeholder:"$t('AddNet_plsInputValue')"},model:{value:e.form.labels[a].value,callback:function(t){e.$set(e.form.labels[a],"value","string"===typeof t?t.trim():t)},expression:"form.labels[index].value"}},[i("template",{slot:"prepend"},[e._v("value")])],2),i("el-button",{staticStyle:{"margin-left":"10px",padding:"10px"},attrs:{title:"$t('AddNet_delete')",type:"danger",icon:"iconfont icon-lajitong",size:"mini"},on:{click:function(i){return e.delLabel(t,a)}}})],1)})),i("el-form-item",{attrs:{label:e.$t("AddNet_limitExternalAccess")}},[i("el-switch",{model:{value:e.form.Internal,callback:function(t){e.$set(e.form,"Internal","string"===typeof t?t.trim():t)},expression:"form.Internal"}})],1),i("el-form-item",{attrs:{label:e.$t("AddNet_enableManualContainerAccessories")}},[i("el-switch",{model:{value:e.form.Attachable,callback:function(t){e.$set(e.form,"Attachable","string"===typeof t?t.trim():t)},expression:"form.Attachable"}})],1)],2),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{padding:"10px 10px 1px 10px"},attrs:{model:e.form,"label-width":"50px"}},[i("el-form-item",{attrs:{label:""}},[i("el-button",{staticStyle:{background:"#067FB5",color:"#fff"},attrs:{size:"small"},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)],1)},n=[],o=(i("6611"),i("450d"),i("e772")),r=i.n(o),l=(i("1f1a"),i("4e4b")),s=i.n(l),c=(i("e960"),i("b35b")),u=i.n(c),d=(i("1951"),i("eedf")),f=i.n(d),m=(i("10cb"),i("f3ad")),p=i.n(m),h=(i("eca7"),i("3787")),v=i.n(h),b=(i("425f"),i("4105")),_=i.n(b),g=i("2b0e"),x=i("14c3"),y=i("66b7");g["default"].use(_.a),g["default"].use(v.a),g["default"].use(p.a),g["default"].use(f.a),g["default"].use(u.a),g["default"].use(s.a),g["default"].use(r.a);var k={data:function(){return{systeminfo:null,form:{name:"",Driver:"bridge",options:[],Subnet:"",Gateway:"",IPrange:"",ExcludeIPs:"",labels:[],Internal:!1,Attachable:!1},portNum:[],i:0,labelNum:[],j:0}},mounted:function(){var e=this,t='curl --unix-socket /var/run/docker.sock -s "http:/v1.40/info"';Object(x["a"])({docker:t},(function(t){e.systeminfo=t}),this)},methods:{addPort:function(){this.portNum.push(this.i),this.form.options.push({name:"",value:""}),this.i++},delPort:function(e,t){this.portNum=this.portNum.filter((function(t){return t!==e})),this.form.options.splice(t,1)},addLabel:function(){this.labelNum.push(this.j),this.form.labels.push({name:"",value:""}),this.j++},delLabel:function(e,t){this.labelNum=this.labelNum.filter((function(t){return t!==e})),this.form.labels.splice(t,1)},onSubmit:function(){var e=this,t=[{}];this.form.Subnet&&(t[0].Subnet=this.form.Subnet),this.form.Gateway&&(t[0].Gateway=this.form.Gateway),this.form.IPrange&&(t[0].IPRange=this.form.IPrange),this.form.ExcludeIPs&&(t[0].AuxAddress=this.form.ExcludeIPs);var i={};if(this.form.labels.length>0)for(var a=0;a<this.form.labels.length;a++)i[this.form.labels[a].name]=this.form.labels[a].value;var n={};if(this.form.options.length>0)for(var o=0;o<this.form.options.length;o++)n[this.form.options[o].name]=this.form.options[o].value;var r={CheckDuplicate:!0,Driver:this.form.Driver,Attachable:this.form.Attachable,IPAM:{Config:t,Driver:"default"},Internal:this.form.Internal,Labels:i,Name:this.form.name,Options:n},l="curl --unix-socket /var/run/docker.sock -s -H Content-Type:application/json -d '".concat(JSON.stringify(r),"' http:/v1.40/networks/create");Object(x["a"])({docker:l},(function(t){if(t.message)return e.$message({showClose:!0,message:t.message,type:"error"});e.$message({showClose:!0,message:e.$t("AddNet_networkCreateSuccess"),type:"success"}),e.$router.go(-1)}),this)}},components:{Back:y["a"]}},w=k,$=(i("5c8f"),i("2877")),C=Object($["a"])(w,a,n,!1,null,"5b487ea0",null);t["default"]=C.exports},"5c8f":function(e,t,i){"use strict";var a=i("03c5"),n=i.n(a);n.a},"66b7":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-page-header",{attrs:{content:e.title},on:{back:e.goBack}})],1)},n=[],o={props:["title"],methods:{goBack:function(){this.$router.go(-1)}}},r=o,l=i("2877"),s=Object(l["a"])(r,a,n,!1,null,null,null);t["a"]=s.exports},b35b:function(e,t,i){e.exports=function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=88)}({0:function(e,t,i){"use strict";function a(e,t,i,a,n,o,r,l){var s,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=s):n&&(s=l?function(){n.call(this,this.$root.$options.shadowRoot)}:n),s)if(c.functional){c._injectStyles=s;var u=c.render;c.render=function(e,t){return s.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:c}}i.d(t,"a",(function(){return a}))},11:function(e,t){e.exports=i("2bb5")},22:function(e,t){e.exports=i("12f2")},4:function(e,t){e.exports=i("d010")},88:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-switch",class:{"is-disabled":e.switchDisabled,"is-checked":e.checked},attrs:{role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled},on:{click:function(t){return t.preventDefault(),e.switchValue(t)}}},[i("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:e.id,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled},on:{change:e.handleChange,keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.switchValue(t)}}}),e.inactiveIconClass||e.inactiveText?i("span",{class:["el-switch__label","el-switch__label--left",e.checked?"":"is-active"]},[e.inactiveIconClass?i("i",{class:[e.inactiveIconClass]}):e._e(),!e.inactiveIconClass&&e.inactiveText?i("span",{attrs:{"aria-hidden":e.checked}},[e._v(e._s(e.inactiveText))]):e._e()]):e._e(),i("span",{ref:"core",staticClass:"el-switch__core",style:{width:e.coreWidth+"px"}}),e.activeIconClass||e.activeText?i("span",{class:["el-switch__label","el-switch__label--right",e.checked?"is-active":""]},[e.activeIconClass?i("i",{class:[e.activeIconClass]}):e._e(),!e.activeIconClass&&e.activeText?i("span",{attrs:{"aria-hidden":!e.checked}},[e._v(e._s(e.activeText))]):e._e()]):e._e()])},n=[];a._withStripped=!0;var o=i(4),r=i.n(o),l=i(22),s=i.n(l),c=i(11),u=i.n(c),d={name:"ElSwitch",mixins:[s()("input"),u.a,r.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(e){var t=this,i=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",i),this.$emit("change",i),this.$nextTick((function(){t.$refs.input.checked=t.checked}))},setBackgroundColor:function(){var e=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=e,this.$refs.core.style.backgroundColor=e},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},f=d,m=i(0),p=Object(m["a"])(f,a,n,!1,null,null,null);p.options.__file="packages/switch/src/component.vue";var h=p.exports;h.install=function(e){e.component(h.name,h)};t["default"]=h}})},e960:function(e,t,i){}}]);
//# sourceMappingURL=AddNet.17f0282f.js.map