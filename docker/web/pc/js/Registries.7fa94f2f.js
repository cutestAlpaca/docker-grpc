(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Registries"],{"0bed":function(e,t,r){},"27ae":function(e,t,r){(function(r){var a,n;(function(t,r){e.exports=r(t)})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r?r:this,(function(r){"use strict";r=r||{};var s,o=r.Base64,i="2.6.4",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(e){for(var t={},r=0,a=e.length;r<a;r++)t[e.charAt(r)]=r;return t}(u),l=String.fromCharCode,f=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,m=function(e){return e.replace(d,f)},p=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),a=[u.charAt(r>>>18),u.charAt(r>>>12&63),t>=2?"=":u.charAt(r>>>6&63),t>=1?"=":u.charAt(63&r)];return a.join("")},h=r.btoa&&"function"==typeof r.btoa?function(e){return r.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,p)},b=function(e){return h(m(String(e)))},g=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},y=function(e,t){return t?g(b(e)):b(e)},v=function(e){return y(e,!0)};r.Uint8Array&&(s=function(e,t){for(var r="",a=0,n=e.length;a<n;a+=3){var s=e[a],o=e[a+1],i=e[a+2],c=s<<16|o<<8|i;r+=u.charAt(c>>>18)+u.charAt(c>>>12&63)+("undefined"!=typeof o?u.charAt(c>>>6&63):"=")+("undefined"!=typeof i?u.charAt(63&c):"=")}return t?g(r):r});var w,O=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,k=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return l(55296+(r>>>10))+l(56320+(1023&r));case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},_=function(e){return e.replace(O,k)},x=function(e){var t=e.length,r=t%4,a=(t>0?c[e.charAt(0)]<<18:0)|(t>1?c[e.charAt(1)]<<12:0)|(t>2?c[e.charAt(2)]<<6:0)|(t>3?c[e.charAt(3)]:0),n=[l(a>>>16),l(a>>>8&255),l(255&a)];return n.length-=[0,0,2,1][r],n.join("")},$=r.atob&&"function"==typeof r.atob?function(e){return r.atob(e)}:function(e){return e.replace(/\S{1,4}/g,x)},C=function(e){return $(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},j=function(e){return _($(e))},R=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},T=function(e){return j(R(e))};r.Uint8Array&&(w=function(e){return Uint8Array.from(C(R(e)),(function(e){return e.charCodeAt(0)}))});var S=function(){var e=r.Base64;return r.Base64=o,e};if(r.Base64={VERSION:i,atob:C,btoa:h,fromBase64:T,toBase64:y,utob:m,encode:y,encodeURI:v,btou:_,decode:T,noConflict:S,fromUint8Array:s,toUint8Array:w},"function"===typeof Object.defineProperty){var A=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A((function(){return T(this)}))),Object.defineProperty(String.prototype,"toBase64",A((function(e){return y(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",A((function(){return y(this,!0)})))}}return r["Meteor"]&&(Base64=r.Base64),e.exports?e.exports.Base64=r.Base64:(a=[],n=function(){return r.Base64}.apply(t,a),void 0===n||(e.exports=n)),{Base64:r.Base64}}))}).call(this,r("c8ba"))},a062:function(e,t,r){"use strict";var a=r("0bed"),n=r.n(a);n.a},b0a4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"from"},[r("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("Registries_addRegistries"))+" ")]),r("el-tabs",{staticStyle:{margin:"10px 20px","border-radius":"5px"},attrs:{type:"border-card"},model:{value:e.tabsName,callback:function(t){e.tabsName=t},expression:"tabsName"}},[r("el-tab-pane",{attrs:{label:e.$t("Registries_publicRepository"),name:"Hub"}},[r("RegTabs",{attrs:{name:e.tabsName},on:{success:e.success}})],1),r("el-tab-pane",{attrs:{label:e.$t("Registries_customizedRepository"),name:"diy"}},[r("RegTabs",{attrs:{name:e.tabsName},on:{success:e.success}})],1)],1)],1),r("div",{staticClass:"from",staticStyle:{"margin-top":"30px"}},[r("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("Registries_registriesLists"))+" ")]),r("RegTable",{staticStyle:{margin:"10px 20px","border-radius":"5px",border:"1px solid #f2f2f2"},attrs:{ins:e.ins}})],1)])},n=[],s=(r("e612"),r("450d"),r("dd87")),o=r.n(s),i=(r("075a"),r("72aa")),u=r.n(i),c=r("2b0e"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"130px"}},[r("el-form-item",{attrs:{label:e.$t("RegTabs_alias"),prop:"name"}},[r("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:e.$t("RegTabs_Pleaseenterauniquealias")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login("form")}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),"diy"!==e.name?r("el-form-item",{attrs:{label:e.$t("RegTabs_Warehouseaddress"),prop:"url"}},[r("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:e.$t("RegTabs_Pleaseselectwarehouseaddress")},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}},e._l(e.loginUrl,(function(e){return r("el-option",{key:e.url,attrs:{label:e.name,value:e.loginUrl}})})),1),r("span",{staticClass:"tishi"},[e._v(e._s(e.$t("RegTabs_Please")))])],1):e._e(),r("el-form-item",{attrs:{label:e.$t("RegTabs_username"),prop:"username"}},[r("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:e.$t("RegTabs_enteroneusername")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login("form")}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username","string"===typeof t?t.trim():t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:e.$t("RegTabs_password"),prop:"password"}},[r("el-input",{staticStyle:{width:"70%"},attrs:{type:"password",placeholder:e.$t("RegTabs_Pleaseinputapassword")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login("form")}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),"diy"===e.name?r("el-form-item",{attrs:{label:e.$t("RegTabs_Warehouseaddress"),prop:"url"}},[r("el-input",{attrs:{placeholder:e.$t("RegTabs_Pleaseenterthewarehouseaddress")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login("form")}},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url","string"===typeof t?t.trim():t)},expression:"form.url"}})],1):e._e(),r("el-form-item",[r("el-button",{staticStyle:{background:"#067FB5",color:"#fff"},attrs:{size:"small"},on:{click:function(t){return e.Login("form")}}},[e._v(e._s(e.$t("RegTabs_Addnow")))])],1)],1)],1)},f=[],d=(r("6611"),r("e772")),m=r.n(d),p=(r("1f1a"),r("4e4b")),h=r.n(p),b=(r("10cb"),r("f3ad")),g=r.n(b),y=(r("1951"),r("eedf")),v=r.n(y),w=(r("eca7"),r("3787")),O=r.n(w),k=(r("425f"),r("4105")),_=r.n(k),x=r("751a"),$=r("27ae");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}c["default"].use(_.a),c["default"].use(O.a),c["default"].use(v.a),c["default"].use(g.a),c["default"].use(h.a),c["default"].use(m.a);var T={data:function(){return{hubdata:[],form:{name:"",username:"",password:"",url:"https://index.docker.io/v1/"},loginUrl:[{name:"DockerHub",loginUrl:"https://index.docker.io/v1/"},{name:"阿里云仓库-北京",loginUrl:"https://registry.cn-beijing.aliyuncs.com"},{name:"腾讯云仓库-默认地域",loginUrl:"https://ccr.ccs.tencentyun.com"},{name:"Amazon仓库",loginUrl:"https://aws_account_id.dkr.ecr.us-east-1.amazonaws.com"},{name:"Quay仓库",loginUrl:"https://quay.io"}]}},computed:{rules:function(){return this.$t?{url:[{required:!0,message:this.$t("RegTabs_Pleaseselectwarehouseaddress"),trigger:"blur"}],username:[{required:!0,message:this.$t("RegTabs_enteroneusername"),trigger:"blur"}],name:[{required:!0,message:this.$t("RegTabs_Pleaseenterauniquealias"),trigger:"blur"}],password:[{required:!1,message:this.$t("RegTabs_Pleaseinputapassword"),trigger:"blur"}]}:{url:[{required:!0,message:"请选择或输入仓库地址",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入别名",trigger:"blur"}],password:[{required:!1,message:"请输入密码",trigger:"blur"}]}}},props:["name"],watch:{name:function(){"Hub"===this.name?this.form.url="https://index.docker.io/v1/":this.form.url=""}},mounted:function(){var e=this;Object(x["a"])({url:"/hubfind",method:"GET",timeout:2e6}).then((function(t){200===t.Code&&(e.hubdata=t.Data)})).catch((function(e){return e}))},methods:{Login:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r=t.hubdata.filter((function(e){return e.name===t.form.name}));if(r.length>0)return t.$message({showClose:!0,message:"别名重复！",type:"error"});t.loading=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var a={username:t.form.username,password:t.form.password,serveraddress:t.form.url},n='curl --unix-socket /var/run/docker.sock -s -H "Content-Type:application/json" -d \''.concat(JSON.stringify(a),'\' -X POST "http:/v1.40/auth"');Object(x["a"])({url:"/docker",method:"POST",timeout:2e6,data:{docker:n}}).then((function(e){200===e.Code?t.hubadd():(t.loading.close(),t.$message({showClose:!0,message:"用户名或密码错误，请重试！",type:"error"}))})).catch((function(e){return e}))}))},hubadd:function(){var e=this,t={name:this.form.name,username:this.form.username,password:$["Base64"].encode(this.form.password),url:this.form.url,authentication:!0};Object(x["a"])({url:"/hubadd",method:"POST",timeout:2e6,data:j({},t)}).then((function(t){e.loading.close(),200===t.Code?(e.$message({showClose:!0,message:"注册表添加成功！",type:"success"}),e.$emit("success"),e.form.name=e.form.username=e.form.password=e.form.url=""):e.$message({showClose:!0,message:"注册表添加失败，请稍候再试！",type:"error"})})).catch((function(e){return e}))}}},S=T,A=(r("a062"),r("2877")),P=Object(A["a"])(S,l,f,!1,null,"5e470e98",null),B=P.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"box"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"name",label:e.$t("RegTable_name")}}),r("el-table-column",{attrs:{prop:"url",label:e.$t("RegTable_url")}}),r("el-table-column",{attrs:{label:e.$t("RegTable_operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[r("el-form",{ref:"form",attrs:{size:"mini",model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:e.$t("RegTable_username")}},[r("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:e.$t("RegTable_password")}},[r("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{staticStyle:{background:"#067FB5",color:"#fff"},on:{click:e.hubsevelogin}},[e._v(e._s(e.$t("RegTable_Modifynow")))])],1)],1),r("el-button",{staticStyle:{background:"#067FB5",color:"#fff"},attrs:{slot:"reference",size:"mini"},on:{click:function(r){return e.dataseve(t.row)}},slot:"reference"},[e._v(e._s(e.$t("RegTable_modify")))])],1),r("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.hubdel(t.row.name)}}},[e._v(e._s(e.$t("RegTable_delete")))])]}}])})],1)],1)},F=[],E=(r("06f1"),r("6ac9")),U=r.n(E),q=(r("5466"),r("ecdf")),N=r.n(q),z=(r("38a0"),r("ad41")),L=r.n(z);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}c["default"].use(L.a),c["default"].use(N.a),c["default"].use(U.a),c["default"].use(O.a),c["default"].use(_.a);var G={data:function(){return{tableData:null,form:{name:"",username:"",password:"",url:"",authentication:null}}},props:["ins"],watch:{ins:function(){this.fetchdata()}},mounted:function(){this.fetchdata()},methods:{hubsevelogin:function(){var e=this;this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var t={username:this.form.username,password:this.form.password,serveraddress:this.form.url},r='curl --unix-socket /var/run/docker.sock -s -H "Content-Type:application/json" -d \''.concat(JSON.stringify(t),'\' -X POST "http:/v1.40/auth"');Object(x["a"])({url:"/docker",method:"POST",timeout:2e6,data:{docker:r}}).then((function(t){if(200===t.Code){if(JSON.parse(t.Data).message)return e.loading.close(),e.$message({showClose:!0,message:JSON.parse(t.Data).message,type:"error"});e.hubseve()}else e.loading.close(),e.$message({showClose:!0,message:"用户名或密码错误，请重试！",type:"error"})})).catch((function(e){return e}))},hubseve:function(){var e=this,t={name:this.form.name,username:this.form.username,password:$["Base64"].encode(this.form.password),url:this.form.url,authentication:!0};Object(x["a"])({url:"/hubsave",method:"POST",timeout:2e6,data:J({},t)}).then((function(t){e.loading.close(),200===t.Code?(e.$message({showClose:!0,message:"注册表修改成功！",type:"success"}),e.fetchdata(),document.getElementById("box").click()):e.$message({showClose:!0,message:"注册表修改失败，请稍候再试！",type:"error"})})).catch((function(e){return e}))},dataseve:function(e){this.form.name=e.name,this.form.username=e.username,this.form.password=$["Base64"].decode(e.password),this.form.url=e.url},hubdel:function(e){var t=this;confirm("确认删除？")&&Object(x["a"])({url:"/hubdel",method:"POST",timeout:2e6,data:{name:e}}).then((function(e){200===e.Code?(t.$message({showClose:!0,message:"删除成功！",type:"success"}),t.fetchdata()):t.$message({showClose:!0,message:"删除失败，请稍候再试！",type:"error"})})).catch((function(e){return e}))},fetchdata:function(){var e=this;Object(x["a"])({url:"/hubfind",method:"GET",timeout:2e6}).then((function(t){200===t.Code&&(e.tableData=t.Data)})).catch((function(e){return e}))}}},M=G,W=Object(A["a"])(M,D,F,!1,null,null,null),X=W.exports;c["default"].use(u.a),c["default"].use(o.a);var Z={data:function(){return{tabsName:"Hub",ins:!1}},methods:{success:function(){this.ins=!this.ins}},components:{RegTabs:B,RegTable:X}},Q=Z,V=Object(A["a"])(Q,a,n,!1,null,null,null);t["default"]=V.exports}}]);
//# sourceMappingURL=Registries.7fa94f2f.js.map