(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MyInfo"],{"4b7f":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("Back",{attrs:{title:e.$t("MyInfo_userInfo")}}),t("div",{staticClass:"from"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.$t("MyInfo_updatePassword"))+" ")]),t("div",{staticClass:"frombox"},[t("h4",[e._v(e._s(e.user))]),t("el-form",{ref:"form",attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:e.$t("MyInfo_oldpassword")}},[t("el-input",{attrs:{type:"password",placeholder:e.$t("MyInfo_inputOldpassword")},nativeOn:{keyup:function(s){return s.type.indexOf("key")||13===s.keyCode?e.submit(s):null}},model:{value:e.oldpassword,callback:function(s){e.oldpassword="string"===typeof s?s.trim():s},expression:"oldpassword"}})],1),t("el-form-item",{attrs:{label:e.$t("MyInfo_newpassword")}},[t("el-input",{attrs:{type:"password",placeholder:e.$t("MyInfo_updateImmediately")},nativeOn:{keyup:function(s){return s.type.indexOf("key")||13===s.keyCode?e.submit(s):null}},model:{value:e.newpassword1,callback:function(s){e.newpassword1="string"===typeof s?s.trim():s},expression:"newpassword1"}})],1),t("el-form-item",{attrs:{label:e.$t("MyInfo_confirmPassword")}},[t("el-input",{attrs:{type:"password",placeholder:e.$t("MyInfo_inputNewpassword")},nativeOn:{keyup:function(s){return s.type.indexOf("key")||13===s.keyCode?e.submit(s):null}},model:{value:e.newpassword2,callback:function(s){e.newpassword2="string"===typeof s?s.trim():s},expression:"newpassword2"}})],1),t("el-form-item",[t("el-button",{staticStyle:{background:"#067FB5",color:"#fff"},on:{click:e.submit}},[e._v(" "+e._s(e.$t("MyInfo_updateImmediately"))+" ")])],1)],1)],1)])],1)},a=[],r=(t("1951"),t("450d"),t("eedf")),n=t.n(r),l=(t("10cb"),t("f3ad")),i=t.n(l),d=(t("eca7"),t("3787")),u=t.n(d),p=(t("425f"),t("4105")),f=t.n(p),c=(t("f92a"),t("d775")),w=t.n(c),m=t("2b0e"),h=t("66b7"),y=t("751a");m["default"].use(w.a),m["default"].use(f.a),m["default"].use(u.a),m["default"].use(i.a),m["default"].use(n.a);var b={data:function(){return{user:"",oldpassword:"",newpassword1:"",newpassword2:""}},mounted:function(){this.user=JSON.parse(localStorage.getItem("user")).username},methods:{submit:function(){var e=this,s=/^[0-9A-Za-z]{6,16}$/,t=s.test(this.newpassword1),o=s.test(this.newpassword2);if(!t||!o)return this.$message({showClose:!0,message:"请输入6-16位的数字或字母！",type:"error"});this.newpassword1===this.newpassword2?(Object(y["a"])({url:"/password",method:"POST",data:{oldpassword:this.oldpassword,newpassword:this.newpassword1}}).then((function(s){200===s.Code?(e.$message({showClose:!0,message:"密码修改成功，请重新登录！",type:"success"}),localStorage.removeItem("user"),localStorage.removeItem("userList"),e.$router.push("/Login")):e.$message({showClose:!0,message:"密码修改失败，请检查原密码是否输入错误！",type:"error"})})).catch((function(s){e.$message({showClose:!0,message:s.data,type:"error"})})),this.oldpassword=this.newpassword1=this.newpassword2=""):(this.$message({showClose:!0,message:"两次密码输入不一致！",type:"error"}),this.newpassword1=this.newpassword2="")}},components:{Back:h["a"]}},g=b,v=(t("fec3"),t("2877")),k=Object(v["a"])(g,o,a,!1,null,"9ec49428",null);s["default"]=k.exports},"66b7":function(e,s,t){"use strict";var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("el-page-header",{attrs:{content:e.title},on:{back:e.goBack}})],1)},a=[],r={props:["title"],methods:{goBack:function(){this.$router.go(-1)}}},n=r,l=t("2877"),i=Object(l["a"])(n,o,a,!1,null,null,null);s["a"]=i.exports},f2f7:function(e,s,t){},fec3:function(e,s,t){"use strict";var o=t("f2f7"),a=t.n(o);a.a}}]);
//# sourceMappingURL=MyInfo.1c14b0ec.js.map